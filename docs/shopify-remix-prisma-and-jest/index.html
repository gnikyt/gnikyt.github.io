<!--
  Hello! Lookin' for something? Well... it was built quickly, hope thats OK with you!
  https://github.com/gnikyt/gnikyt.github.io
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>
      Shopify Remix, Prisma, and Jest | gnikyt
    </title>
    <link href="https://gnikyt.com/shopify-remix-prisma-and-jest" rel="canonical">
    <meta content="Custom" name="generator">
    <meta content=
    "## Introduction Shopify has *(once again)* changed up their app framework and templates. This time, they're utilizing Remix which is a ..."
    name="description">
    <meta content="2024-01-10T13:17:03-0330" property="article:published_time">
    <meta content="Shopify Remix, Prisma, and Jest" property="og:title">
    <meta content="en" property="og:locale">
    <meta content=
    "## Introduction Shopify has *(once again)* changed up their app framework and templates. This time, they're utilizing Remix which is a ..."
    property="og:description">
    <meta content="https://gnikyt.com/shopify-remix-prisma-and-jest" property="og:url">
    <meta content="gnikyt" property="og:site_name">
    <meta content="article" property="og:type">
    <meta content="summary" name="twitter:card">
    <meta content=
    "## Introduction Shopify has *(once again)* changed up their app framework and templates. This time, they're utilizing Remix which is a ..."
    property="twitter:title">
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "dateModified": "2024-01-10T13:17:03-0330",
    "datePublished": "2024-01-10T13:17:03-0330",
    "description": "
    ## Introduction

    Shopify has *(once again)* changed up their app framework and templates. This time, they're utilizing Remix which is a ...",
    "headline": "Shopify Remix, Prisma, and Jest",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://gnikyt.com/shopify-remix-prisma-and-jest"
    },
    "publisher": {
      "@type": "Organization",
      "logo": {
        "@type": "ImageObject",
        "url": "https://gnikyt.com/assets/favicon-32x32.png"
      }
    },
    "url": "https://gnikyt.com/shopify-remix-prisma-and-jest"
    }
    </script>
    <link as="font" crossorigin="anonymous" href="/assets/fonts/RobotoMono-Regular.woff2" rel="preload" type=
    "font/woff2">
    <link as="font" crossorigin="anonymous" href="/assets/fonts/RobotoMono-Bold.woff2" rel="preload" type="font/woff2">
    <link as="font" crossorigin="anonymous" href="/assets/fonts/RobotoMono-Light.woff2" rel="preload" type=
    "font/woff2">
    <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/assets/images/favicon.png" rel="icon" sizes="32x32" type="image/png">
    <link href="/rss.xml" rel="alternate" title="gnikyt feed" type="application/rss+xml">
    <link href="/assets/styles/style.css" rel="stylesheet">
    <link href="/assets/styles/highlight.css" rel="stylesheet">
  </head>
  <body class="layout layout--post" data-handle="shopify-remix-prisma-and-jest">
    <header class="site-head container">
      <span class="site-head__item"><a class="site-head__link" href="/">gnikyt</a></span> <span class=
      "site-head__item site-head__item--tag"><span>&nbsp;&nbsp;</span>/&nbsp;&nbsp;Code ramblings</span>
    </header>

    <main class="container">
      <article class="tab post">
        <header class="post__head">
          <h1 class="tab__title tab__title--short post__title">
            Shopify Remix, Prisma, and Jest /
          </h1>
        </header>

        <div class="tab__container">
          <div class="tab__content">
            <div class="post__meta content-container">
              <div class="post__details">
                /* <time class="post__time" datetime="2024-01-10">Jan 10,
                2024</time>&nbsp;&nbsp;—&nbsp;&nbsp;<span class="post__size">8.8KB</span> */
              </div>

              <div class="post__category">
                <a href="/category/shopify"><img alt="Logo of shopify" class="post__category-logo" src=
                "/assets/images/category-shopify.svg"></a><a href="/category/javascript"><img alt="Logo of javascript"
                class="post__category-logo" src="/assets/images/category-javascript.svg"></a>
              </div>
            </div>

            <div class="content-container">
              <h2 id="introduction">
                Introduction
              </h2>

              <p>
                Shopify has <em>(once again)</em> changed up their app framework and templates. This time, they’re
                utilizing Remix which is a React-based web framework, and Prisma which is an ORM.
              </p>

              <p>
                Recently, I developed a large loyalty application utlizing the new framework. Because this app is
                critical to the merchant’s shop, I wanted to ensure the business logic was working correctly.
              </p>

              <p>
                For my needs, I wanted to do both unit tests on specific code and integration tests. But, I was
                disappointed to see the framework setup offered by Shopify did not have testing built-in, nor any docs
                on how someone could get going on testing.
              </p>

              <p>
                With Prisma, you can mock the database returns from Prisma (example <code>findMany</code>) out of the
                box <a href="https://www.prisma.io/docs/orm/prisma-client/testing/unit-testing">for unit tests</a>.
              </p>

              <div class="sourceCode" id="cb1">
                <pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a aria-hidden="true"
                href="#cb1-1" tabindex="-1"></a><span class="kw">const</span> record <span class="op">=</span> {</span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a>  <span class="dt">id</span><span class=
"op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a>  <span class="dt">title</span><span class=
"op">:</span> <span class="st">"Example"</span><span class="op">,</span></span>
<span id="cb1-4"><a aria-hidden="true" href="#cb1-4" tabindex="-1"></a>  <span class="dt">isDeleted</span><span class=
"op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb1-5"><a aria-hidden="true" href="#cb1-5" tabindex="-1"></a>  <span class="dt">deletedAt</span><span class=
"op">:</span> <span class="op">...,</span></span>
<span id="cb1-6"><a aria-hidden="true" href="#cb1-6" tabindex="-1"></a>  <span class="dt">createdAt</span><span class=
"op">:</span> <span class="op">...,</span></span>
<span id="cb1-7"><a aria-hidden="true" href="#cb1-7" tabindex="-1"></a>  <span class="dt">updatedAt</span><span class=
"op">:</span> <span class="op">...,</span></span>
<span id="cb1-8"><a aria-hidden="true" href="#cb1-8" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb1-9"><a aria-hidden="true" href="#cb1-9" tabindex="-1"></a>prismaMock<span class="op">.</span><span class=
"at">places</span><span class="op">.</span><span class="at">create</span><span class="op">.</span><span class=
"fu">mockResolvedValue</span>(record)<span class="op">;</span></span>
<span id="cb1-10"><a aria-hidden="true" href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a aria-hidden="true" href="#cb1-11" tabindex="-1"></a><span class=
"kw">const</span> result <span class="op">=</span> <span class="cf">await</span> <span class=
"fu">PlacesRepository</span>(prismaMock)<span class="op">.</span><span class="fu">create</span>(record<span class=
"op">.</span><span class="at">title</span>)<span class="op">;</span> <span class="co">// returns a model</span></span>
<span id="cb1-12"><a aria-hidden="true" href="#cb1-12" tabindex="-1"></a><span class=
"fu">expect</span>(result<span class="op">.</span><span class="fu">toJSON</span>())<span class=
"op">.</span><span class="fu">toEqual</span>(record)<span class="op">;</span></span></code></pre>
              </div>

              <p>
                However, in terms of integration tests, a setup would be required to actually setup Prisma to
                communicate with a test database. It took a while to get working properly so I thought I would share
                the process.
              </p>

              <h2 id="testing-setup">
                Testing Setup
              </h2>

              <p>
                <em>Note: This assumes you are using Remix with Typescript.</em>
              </p>

              <h3 id="dependencies">
                Dependencies
              </h3>

              <p>
                <code>npm install --save-dev jest ts-jest</code>
              </p>

              <h3 id="scripts">
                Scripts
              </h3>

              <p>
                Open <code>package.json</code> and add the following to the end of your <code>scripts</code> object:
              </p>

              <pre class="conf"><code>/* package.json */
"test": "jest",
"test:coverage": "jest --coverage",
"test:db:generate": "prisma generate",
"test:db:deploy": "prisma migrate deploy",
"test:db:reset": "prisma db push --force-reset --accept-data-loss --skip-generate"</code></pre>
              <p>
                These commands will be utilized later.
              </p>

              <h3 id="jest">
                Jest
              </h3>

              <p>
                Open (or create) <code>jest.config.js</code> and input:
              </p>

              <div class="sourceCode" id="cb3">
                <pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a aria-hidden="true"
                href="#cb3-1" tabindex="-1"></a><span class="co">/* jest.config.js */</span></span>
<span id="cb3-2"><a aria-hidden="true" href="#cb3-2" tabindex="-1"></a>module<span class="op">.</span><span class=
"at">exports</span> <span class="op">=</span> {</span>
<span id="cb3-3"><a aria-hidden="true" href="#cb3-3" tabindex="-1"></a>  <span class="dt">preset</span><span class=
"op">:</span> <span class="st">"ts-jest"</span><span class="op">,</span></span>
<span id="cb3-4"><a aria-hidden="true" href="#cb3-4" tabindex="-1"></a>  <span class=
"dt">testEnvironment</span><span class="op">:</span> <span class="st">"node"</span><span class="op">,</span></span>
<span id="cb3-5"><a aria-hidden="true" href="#cb3-5" tabindex="-1"></a>  <span class=
"dt">setupFilesAfterEnv</span><span class="op">:</span> [<span class="st">"./app/mocks.ts"</span>]<span class=
"op">,</span></span>
<span id="cb3-6"><a aria-hidden="true" href="#cb3-6" tabindex="-1"></a>}<span class="op">;</span></span></code></pre>
              </div>

              <h3 id="git-ignore">
                Git Ignore
              </h3>

              <p>
                Add the following to your <code>.gitignore</code>:
              </p>

              <pre class="conf"><code>/prisma/*.sqlite
/prisma/*.sqlite-journal
/coverage</code></pre>
              <h3 id="schema">
                Schema
              </h3>

              <p>
                Update your <code>prisma/schema.prisma</code> file by changing the <code>datasource.url</code> value to
                <code>env("DATABASE_URL)</code>:
              </p>

              <pre class="conf"><code>datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}</code></pre>
              <h2 id="mocks-setup">
                Mocks Setup
              </h2>

              <h3 id="prisma">
                Prisma
              </h3>

              <h4 id="mocks.prisma.ts">
                mocks.prisma.ts
              </h4>

              <p>
                Create a file <code>app/mocks.prisma.ts</code> with the following contents:
              </p>

              <div class="sourceCode" id="cb6">
                <pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb6-1"><a aria-hidden="true"
                href="#cb6-1" tabindex="-1"></a><span class=
                "co">// eslint-disable-next-line import/no-extraneous-dependencies</span></span>
<span id="cb6-2"><a aria-hidden="true" href="#cb6-2" tabindex="-1"></a><span class=
"im">import</span> { afterAll<span class="op">,</span> afterEach<span class="op">,</span> beforeEach } <span class=
"im">from</span> <span class="st">"@jest/globals"</span><span class="op">;</span></span>
<span id="cb6-3"><a aria-hidden="true" href="#cb6-3" tabindex="-1"></a><span class=
"im">import</span> type { PrismaClient } <span class="im">from</span> <span class=
"st">"@prisma/client"</span><span class="op">;</span></span>
<span id="cb6-4"><a aria-hidden="true" href="#cb6-4" tabindex="-1"></a><span class=
"im">import</span> { execSync } <span class="im">from</span> <span class="st">"child_process"</span><span class=
"op">;</span></span>
<span id="cb6-5"><a aria-hidden="true" href="#cb6-5" tabindex="-1"></a><span class=
"im">import</span> { unlink } <span class="im">from</span> <span class="st">"fs/promises"</span><span class=
"op">;</span></span>
<span id="cb6-6"><a aria-hidden="true" href="#cb6-6" tabindex="-1"></a><span class=
"im">import</span> { existsSync } <span class="im">from</span> <span class="st">"fs"</span><span class=
"op">;</span></span>
<span id="cb6-7"><a aria-hidden="true" href="#cb6-7" tabindex="-1"></a><span class="im">import</span> <span class=
"op">*</span> <span class="im">as</span> path <span class="im">from</span> <span class="st">"path"</span><span class=
"op">;</span></span>
<span id="cb6-8"><a aria-hidden="true" href="#cb6-8" tabindex="-1"></a></span>
<span id="cb6-9"><a aria-hidden="true" href="#cb6-9" tabindex="-1"></a><span class=
"co">// Path to generated types</span></span>
<span id="cb6-10"><a aria-hidden="true" href="#cb6-10" tabindex="-1"></a><span class=
"kw">const</span> typesPath <span class="op">=</span> path<span class="op">.</span><span class=
"fu">resolve</span>(<span class="st">"node_modules"</span><span class="op">,</span> <span class=
"st">".prisma"</span><span class="op">,</span> <span class="st">"client"</span><span class="op">,</span> <span class=
"st">"index.d.ts"</span>)<span class="op">;</span></span>
<span id="cb6-11"><a aria-hidden="true" href="#cb6-11" tabindex="-1"></a></span>
<span id="cb6-12"><a aria-hidden="true" href="#cb6-12" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-13"><a aria-hidden="true" href="#cb6-13" tabindex="-1"></a><span class=
"co"> * Run an NPM command.</span></span>
<span id="cb6-14"><a aria-hidden="true" href="#cb6-14" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb6-15"><a aria-hidden="true" href="#cb6-15" tabindex="-1"></a><span class="co"> * </span><span class=
"an">@param</span><span class="co"> </span><span class="cv">script</span><span class=
"co"> - Script to run.</span></span>
<span id="cb6-16"><a aria-hidden="true" href="#cb6-16" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb6-17"><a aria-hidden="true" href="#cb6-17" tabindex="-1"></a><span class="kw">function</span> <span class=
"fu">npm</span>(script<span class="op">:</span> string) {</span>
<span id="cb6-18"><a aria-hidden="true" href="#cb6-18" tabindex="-1"></a>  <span class=
"fu">execSync</span>([<span class="st">"npm"</span><span class="op">,</span> <span class="st">"run"</span><span class=
"op">,</span> script]<span class="op">.</span><span class="fu">join</span>(<span class="st">" "</span>)<span class=
"op">,</span> {</span>
<span id="cb6-19"><a aria-hidden="true" href="#cb6-19" tabindex="-1"></a>    <span class="dt">env</span><span class=
"op">:</span> {</span>
<span id="cb6-20"><a aria-hidden="true" href="#cb6-20" tabindex="-1"></a>      <span class="op">...</span><span class=
"bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">,</span></span>
<span id="cb6-21"><a aria-hidden="true" href="#cb6-21" tabindex="-1"></a>      <span class=
"dt">NODE_ENV</span><span class="op">:</span> <span class="st">"test"</span><span class="op">,</span></span>
<span id="cb6-22"><a aria-hidden="true" href="#cb6-22" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-23"><a aria-hidden="true" href="#cb6-23" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb6-24"><a aria-hidden="true" href="#cb6-24" tabindex="-1"></a>}</span>
<span id="cb6-25"><a aria-hidden="true" href="#cb6-25" tabindex="-1"></a></span>
<span id="cb6-26"><a aria-hidden="true" href="#cb6-26" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-27"><a aria-hidden="true" href="#cb6-27" tabindex="-1"></a><span class=
"co"> * Generates the types, creates the database.</span></span>
<span id="cb6-28"><a aria-hidden="true" href="#cb6-28" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb6-29"><a aria-hidden="true" href="#cb6-29" tabindex="-1"></a><span class="kw">async</span> <span class=
"kw">function</span> <span class="fu">createDatabase</span>(client<span class="op">:</span> PrismaClient) {</span>
<span id="cb6-30"><a aria-hidden="true" href="#cb6-30" tabindex="-1"></a>  <span class="cf">if</span> (<span class=
"op">!</span><span class="fu">existsSync</span>(typesPath)) {</span>
<span id="cb6-31"><a aria-hidden="true" href="#cb6-31" tabindex="-1"></a>    <span class="fu">npm</span>(<span class=
"st">"test:db:generate"</span>)<span class="op">;</span></span>
<span id="cb6-32"><a aria-hidden="true" href="#cb6-32" tabindex="-1"></a>  }</span>
<span id="cb6-33"><a aria-hidden="true" href="#cb6-33" tabindex="-1"></a></span>
<span id="cb6-34"><a aria-hidden="true" href="#cb6-34" tabindex="-1"></a>  <span class="fu">npm</span>(<span class=
"st">"test:db:deploy"</span>)<span class="op">;</span></span>
<span id="cb6-35"><a aria-hidden="true" href="#cb6-35" tabindex="-1"></a>  <span class=
"cf">await</span> client<span class="op">.</span><span class="fu">$connect</span>()<span class="op">;</span></span>
<span id="cb6-36"><a aria-hidden="true" href="#cb6-36" tabindex="-1"></a>}</span>
<span id="cb6-37"><a aria-hidden="true" href="#cb6-37" tabindex="-1"></a></span>
<span id="cb6-38"><a aria-hidden="true" href="#cb6-38" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-39"><a aria-hidden="true" href="#cb6-39" tabindex="-1"></a><span class=
"co"> * Destroy the database.</span></span>
<span id="cb6-40"><a aria-hidden="true" href="#cb6-40" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb6-41"><a aria-hidden="true" href="#cb6-41" tabindex="-1"></a><span class="co"> * </span><span class=
"an">@param</span><span class="co"> </span><span class="cv">client</span><span class=
"co"> - Prisma client.</span></span>
<span id="cb6-42"><a aria-hidden="true" href="#cb6-42" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb6-43"><a aria-hidden="true" href="#cb6-43" tabindex="-1"></a><span class="kw">async</span> <span class=
"kw">function</span> <span class="fu">destroyDatabase</span>(client<span class="op">:</span> PrismaClient) {</span>
<span id="cb6-44"><a aria-hidden="true" href="#cb6-44" tabindex="-1"></a>  <span class=
"co">// Disconnects Prisma</span></span>
<span id="cb6-45"><a aria-hidden="true" href="#cb6-45" tabindex="-1"></a>  <span class=
"cf">await</span> client<span class="op">.</span><span class="fu">$disconnect</span>()<span class="op">;</span></span>
<span id="cb6-46"><a aria-hidden="true" href="#cb6-46" tabindex="-1"></a></span>
<span id="cb6-47"><a aria-hidden="true" href="#cb6-47" tabindex="-1"></a>  <span class=
"co">// Remove database</span></span>
<span id="cb6-48"><a aria-hidden="true" href="#cb6-48" tabindex="-1"></a>  <span class="cf">try</span> {</span>
<span id="cb6-49"><a aria-hidden="true" href="#cb6-49" tabindex="-1"></a>    <span class=
"kw">const</span> dbPath <span class="op">=</span> (<span class="bu">process</span><span class=
"op">.</span><span class="at">env</span><span class="op">.</span><span class="at">DATABASE_URL</span> <span class=
"im">as</span> string)<span class="op">.</span><span class="fu">replace</span>(<span class=
"st">"file:"</span><span class="op">,</span> <span class="st">""</span>)<span class="op">;</span></span>
<span id="cb6-50"><a aria-hidden="true" href="#cb6-50" tabindex="-1"></a>    <span class="cf">await</span> <span class=
"bu">Promise</span><span class="op">.</span><span class="fu">allSettled</span>([<span class=
"fu">unlink</span>(dbPath)<span class="op">,</span> <span class="fu">unlink</span>(<span class=
"vs">`</span><span class="sc"></span><span class="vs">-journal`</span>)])<span class="op">;</span></span>
<span id="cb6-51"><a aria-hidden="true" href="#cb6-51" tabindex="-1"></a>  } <span class="cf">catch</span> (e) {</span>
<span id="cb6-52"><a aria-hidden="true" href="#cb6-52" tabindex="-1"></a>    <span class=
"co">// Do nothing, we don't care</span></span>
<span id="cb6-53"><a aria-hidden="true" href="#cb6-53" tabindex="-1"></a>  }</span>
<span id="cb6-54"><a aria-hidden="true" href="#cb6-54" tabindex="-1"></a>}</span>
<span id="cb6-55"><a aria-hidden="true" href="#cb6-55" tabindex="-1"></a></span>
<span id="cb6-56"><a aria-hidden="true" href="#cb6-56" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-57"><a aria-hidden="true" href="#cb6-57" tabindex="-1"></a><span class=
"co"> * Resets the database in between each test.</span></span>
<span id="cb6-58"><a aria-hidden="true" href="#cb6-58" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb6-59"><a aria-hidden="true" href="#cb6-59" tabindex="-1"></a><span class=
"co">// function resetDatabase() {</span></span>
<span id="cb6-60"><a aria-hidden="true" href="#cb6-60" tabindex="-1"></a><span class=
"co">//   npm("test:db:reset");</span></span>
<span id="cb6-61"><a aria-hidden="true" href="#cb6-61" tabindex="-1"></a><span class="co">// }</span></span>
<span id="cb6-62"><a aria-hidden="true" href="#cb6-62" tabindex="-1"></a></span>
<span id="cb6-63"><a aria-hidden="true" href="#cb6-63" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-64"><a aria-hidden="true" href="#cb6-64" tabindex="-1"></a><span class=
"co"> * Seeds the database with initial data.</span></span>
<span id="cb6-65"><a aria-hidden="true" href="#cb6-65" tabindex="-1"></a><span class="co"> *</span></span>
<span id="cb6-66"><a aria-hidden="true" href="#cb6-66" tabindex="-1"></a><span class="co"> * </span><span class=
"an">@param</span><span class="co"> </span><span class="cv">client</span><span class=
"co"> - Prisma client.</span></span>
<span id="cb6-67"><a aria-hidden="true" href="#cb6-67" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb6-68"><a aria-hidden="true" href="#cb6-68" tabindex="-1"></a><span class="kw">function</span> <span class=
"fu">seedDatabase</span>(client<span class="op">:</span> PrismaClient) {</span>
<span id="cb6-69"><a aria-hidden="true" href="#cb6-69" tabindex="-1"></a>  <span class=
"co">// Seed shop session</span></span>
<span id="cb6-70"><a aria-hidden="true" href="#cb6-70" tabindex="-1"></a>  <span class=
"cf">await</span> client<span class="op">.</span><span class="at">session</span><span class="op">.</span><span class=
"fu">create</span>({</span>
<span id="cb6-71"><a aria-hidden="true" href="#cb6-71" tabindex="-1"></a>    <span class="dt">data</span><span class=
"op">:</span> {</span>
<span id="cb6-72"><a aria-hidden="true" href="#cb6-72" tabindex="-1"></a>      <span class="dt">id</span><span class=
"op">:</span> <span class="st">"example.myshopify.com_id"</span><span class="op">,</span></span>
<span id="cb6-73"><a aria-hidden="true" href="#cb6-73" tabindex="-1"></a>      <span class="dt">shop</span><span class=
"op">:</span> <span class="st">"example.myshopify.com"</span><span class="op">,</span></span>
<span id="cb6-74"><a aria-hidden="true" href="#cb6-74" tabindex="-1"></a>      <span class=
"dt">accessToken</span><span class="op">:</span> <span class="st">"token"</span><span class="op">,</span></span>
<span id="cb6-75"><a aria-hidden="true" href="#cb6-75" tabindex="-1"></a>      <span class=
"dt">state</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb6-76"><a aria-hidden="true" href="#cb6-76" tabindex="-1"></a>      <span class=
"dt">isOnline</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb6-77"><a aria-hidden="true" href="#cb6-77" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-78"><a aria-hidden="true" href="#cb6-78" tabindex="-1"></a>  ])<span class="op">;</span></span>
<span id="cb6-79"><a aria-hidden="true" href="#cb6-79" tabindex="-1"></a>}</span>
<span id="cb6-80"><a aria-hidden="true" href="#cb6-80" tabindex="-1"></a></span>
<span id="cb6-81"><a aria-hidden="true" href="#cb6-81" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb6-82"><a aria-hidden="true" href="#cb6-82" tabindex="-1"></a><span class=
"co"> * To be used on test suites which need this Prisma setup.</span></span>
<span id="cb6-83"><a aria-hidden="true" href="#cb6-83" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb6-84"><a aria-hidden="true" href="#cb6-84" tabindex="-1"></a><span class="im">export</span> <span class=
"kw">function</span> <span class="fu">prismaHooks</span>(<span class="dt">client</span><span class=
"op">:</span> PrismaClient) {</span>
<span id="cb6-85"><a aria-hidden="true" href="#cb6-85" tabindex="-1"></a>  <span class=
"fu">beforeEach</span>(<span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb6-86"><a aria-hidden="true" href="#cb6-86" tabindex="-1"></a>    <span class="cf">await</span> <span class=
"fu">createDatabase</span>(client)<span class="op">;</span></span>
<span id="cb6-87"><a aria-hidden="true" href="#cb6-87" tabindex="-1"></a>    <span class="cf">await</span> <span class=
"fu">seedDatabase</span>(client)<span class="op">;</span></span>
<span id="cb6-88"><a aria-hidden="true" href="#cb6-88" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb6-89"><a aria-hidden="true" href="#cb6-89" tabindex="-1"></a>  <span class=
"fu">afterEach</span>(() <span class="kw">=&gt;</span> <span class="fu">destroyDatabase</span>(client))<span class=
"op">;</span></span>
<span id="cb6-90"><a aria-hidden="true" href="#cb6-90" tabindex="-1"></a>}</span></code></pre>
              </div>

              <p>
                What this file does is utilize’s Jest’s global hooks (<code>beforeAll</code>, <code>afterAll</code>,
                etc) to setup and teardown the database for each test suite, if you invoke <code>prismaHooks</code>.
              </p>

              <p>
                Before each test is ran, the database creation process is triggered and the database is seeded. After
                each test is ran, the database deletion process is triggered. Finally, if types have not yet been
                generated by Prisma, it will be done once only.
              </p>

              <h3 id="db.server.ts">
                db.server.ts
              </h3>

              <p>
                Create a file <code>app/__mocks__/db.server.ts</code> with the following content. This will be used by
                Jest to replace <code>app/db.server.ts</code> with this file.
              </p>

              <div class="sourceCode" id="cb7">
                <pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb7-1"><a aria-hidden="true"
                href="#cb7-1" tabindex="-1"></a><span class="im">import</span> { PrismaClient } <span class=
                "im">from</span> <span class="st">"@prisma/client"</span><span class="op">;</span></span>
<span id="cb7-2"><a aria-hidden="true" href="#cb7-2" tabindex="-1"></a><span class="im">import</span> <span class=
"op">*</span> <span class="im">as</span> path <span class="im">from</span> <span class="st">"path"</span><span class=
"op">;</span></span>
<span id="cb7-3"><a aria-hidden="true" href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a aria-hidden="true" href="#cb7-4" tabindex="-1"></a><span class=
"co">// Database path to ../prisma/test-[time].sqlite</span></span>
<span id="cb7-5"><a aria-hidden="true" href="#cb7-5" tabindex="-1"></a><span class=
"kw">const</span> dbPath <span class="op">=</span> path<span class="op">.</span><span class=
"fu">resolve</span>(<span class="bu">__dirname</span><span class="op">,</span> <span class="st">".."</span><span class=
"op">,</span> <span class="st">".."</span><span class="op">,</span> <span class="st">"prisma"</span><span class=
"op">,</span> <span class="vs">`test-</span><span class="sc">${</span><span class="kw">new</span> <span class=
"bu">Date</span>()<span class="op">.</span><span class="fu">getTime</span>()<span class="sc">}</span><span class=
"vs">.sqlite`</span>)<span class="op">;</span></span>
<span id="cb7-6"><a aria-hidden="true" href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a aria-hidden="true" href="#cb7-7" tabindex="-1"></a><span class=
"co">// Set database URL override</span></span>
<span id="cb7-8"><a aria-hidden="true" href="#cb7-8" tabindex="-1"></a><span class="bu">process</span><span class=
"op">.</span><span class="at">env</span><span class="op">.</span><span class="at">DATABASE_URL</span> <span class=
"op">=</span> <span class="vs">`file:</span><span class="sc"></span><span class="vs">`</span><span class=
"op">;</span></span>
<span id="cb7-9"><a aria-hidden="true" href="#cb7-9" tabindex="-1"></a></span>
<span id="cb7-10"><a aria-hidden="true" href="#cb7-10" tabindex="-1"></a><span class=
"co">// Prisma client</span></span>
<span id="cb7-11"><a aria-hidden="true" href="#cb7-11" tabindex="-1"></a><span class=
"kw">const</span> prisma <span class="op">=</span> <span class="kw">new</span> <span class=
"fu">PrismaClient</span>()<span class="op">;</span></span>
<span id="cb7-12"><a aria-hidden="true" href="#cb7-12" tabindex="-1"></a><span class="im">export</span> <span class=
"im">default</span> prisma<span class="op">;</span></span></code></pre>
              </div>

              <ul>
                <li>
                  <code>dbPath</code> sets the path of where our test SQLite database will live,
                  <code>prisma/test-[time].sqlite</code>
                </li>

                <li>
                  <code>dbPath</code> is then is used to set the <code>DATABASE_URL</code>
                </li>
              </ul>

              <p>
                This ensures a unique database for each test suite.
              </p>

              <h3 id="jest-1">
                Jest
              </h3>

              <p>
                Create a file <code>app/mocks.ts</code> with the following contents to tell Jest to use the mock Prisma
                setup.
              </p>

              <div class="sourceCode" id="cb8">
                <pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb8-1"><a aria-hidden="true"
                href="#cb8-1" tabindex="-1"></a><span class="co">/* app/mocks.ts */</span></span>
<span id="cb8-2"><a aria-hidden="true" href="#cb8-2" tabindex="-1"></a><span class=
"im">import</span> { jest } <span class="im">from</span> <span class="st">"@jest/globals"</span><span class=
"op">;</span></span>
<span id="cb8-3"><a aria-hidden="true" href="#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a aria-hidden="true" href="#cb8-4" tabindex="-1"></a>jest<span class="op">.</span><span class=
"fu">mock</span>(<span class="st">"./db.server"</span>)<span class="op">;</span></span></code></pre>
              </div>

              <h2 id="usage">
                Usage
              </h2>

              <p>
                You are now ready to do integration tests!
              </p>

              <div class="sourceCode" id="cb9">
                <pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb9-1"><a aria-hidden="true"
                href="#cb9-1" tabindex="-1"></a><span class="co">/* app/order/processor.test.ts */</span></span>
<span id="cb9-2"><a aria-hidden="true" href="#cb9-2" tabindex="-1"></a><span class=
"im">import</span> { describe<span class="op">,</span> expect<span class="op">,</span> it } <span class=
"im">from</span> <span class="st">"@jest/globals"</span><span class="op">;</span></span>
<span id="cb9-3"><a aria-hidden="true" href="#cb9-3" tabindex="-1"></a><span class="im">import</span> db <span class=
"im">from</span> <span class="st">"../db.server"</span><span class="op">;</span></span>
<span id="cb9-4"><a aria-hidden="true" href="#cb9-4" tabindex="-1"></a><span class=
"im">import</span> { prismaHooks } <span class="im">from</span> <span class="st">"../mocks.prisma"</span><span class=
"op">;</span></span>
<span id="cb9-5"><a aria-hidden="true" href="#cb9-5" tabindex="-1"></a><span class=
"im">import</span> { ShopifyClient<span class="op">,</span> ShopifyFixture } <span class="im">from</span> <span class=
"st">"../mocks.clients"</span><span class="op">;</span></span>
<span id="cb9-6"><a aria-hidden="true" href="#cb9-6" tabindex="-1"></a><span class="co">// etc...</span></span>
<span id="cb9-7"><a aria-hidden="true" href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a aria-hidden="true" href="#cb9-8" tabindex="-1"></a><span class=
"co">/* just an example... */</span></span>
<span id="cb9-9"><a aria-hidden="true" href="#cb9-9" tabindex="-1"></a></span>
<span id="cb9-10"><a aria-hidden="true" href="#cb9-10" tabindex="-1"></a><span class="fu">describe</span>(<span class=
"st">"order processor"</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb9-11"><a aria-hidden="true" href="#cb9-11" tabindex="-1"></a>  <span class=
"co">// Add our hooks for this suite</span></span>
<span id="cb9-12"><a aria-hidden="true" href="#cb9-12" tabindex="-1"></a>  <span class=
"fu">prismaMocks</span>(db)<span class="op">;</span></span>
<span id="cb9-13"><a aria-hidden="true" href="#cb9-13" tabindex="-1"></a></span>
<span id="cb9-14"><a aria-hidden="true" href="#cb9-14" tabindex="-1"></a>  <span class="fu">it</span>(<span class=
"st">"should insert order"</span><span class="op">,</span> <span class="kw">async</span> () <span class=
"kw">=&gt;</span> {</span>
<span id="cb9-15"><a aria-hidden="true" href="#cb9-15" tabindex="-1"></a>    <span class=
"kw">const</span> orderId <span class="op">=</span> <span class="fu">OrderId</span>(<span class=
"st">"gid://shopify/Order/1"</span>)<span class="op">;</span></span>
<span id="cb9-16"><a aria-hidden="true" href="#cb9-16" tabindex="-1"></a>    <span class=
"kw">const</span> customerId <span class="op">=</span> <span class="fu">CustomerId</span>(<span class=
"st">"gid://shopify/Customer/1"</span>)<span class="op">;</span></span>
<span id="cb9-17"><a aria-hidden="true" href="#cb9-17" tabindex="-1"></a>    <span class=
"kw">const</span> product1 <span class="op">=</span> <span class="fu">ProductId</span>(<span class=
"st">"gid://shopify/Product/1"</span>)<span class="op">;</span></span>
<span id="cb9-18"><a aria-hidden="true" href="#cb9-18" tabindex="-1"></a>    <span class=
"kw">const</span> prodcut2 <span class="op">=</span> <span class="fu">ProductId</span>(<span class=
"st">"gid://shopify/Product/2"</span>)<span class="op">;</span></span>
<span id="cb9-19"><a aria-hidden="true" href="#cb9-19" tabindex="-1"></a></span>
<span id="cb9-20"><a aria-hidden="true" href="#cb9-20" tabindex="-1"></a>    <span class="co">// Job data</span></span>
<span id="cb9-21"><a aria-hidden="true" href="#cb9-21" tabindex="-1"></a>    <span class=
"kw">const</span> jobData <span class="op">=</span> {</span>
<span id="cb9-22"><a aria-hidden="true" href="#cb9-22" tabindex="-1"></a>      <span class=
"dt">order</span><span class="op">:</span> {</span>
<span id="cb9-23"><a aria-hidden="true" href="#cb9-23" tabindex="-1"></a>        <span class="dt">id</span><span class=
"op">:</span> orderId<span class="op">.</span><span class="fu">toInt</span>()<span class="op">,</span></span>
<span id="cb9-24"><a aria-hidden="true" href="#cb9-24" tabindex="-1"></a>        <span class=
"dt">admin_graphql_id</span><span class="op">:</span> orderId<span class="op">.</span><span class=
"fu">toGql</span>()<span class="op">,</span></span>
<span id="cb9-25"><a aria-hidden="true" href="#cb9-25" tabindex="-1"></a>        <span class=
"dt">tags</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb9-26"><a aria-hidden="true" href="#cb9-26" tabindex="-1"></a>        <span class=
"dt">total_price</span><span class="op">:</span> <span class="st">"115.00"</span><span class="op">,</span></span>
<span id="cb9-27"><a aria-hidden="true" href="#cb9-27" tabindex="-1"></a>        <span class=
"dt">customer</span><span class="op">:</span> {</span>
<span id="cb9-28"><a aria-hidden="true" href="#cb9-28" tabindex="-1"></a>          <span class=
"dt">id</span><span class="op">:</span> customerId<span class="op">.</span><span class="fu">toInt</span>()<span class=
"op">,</span></span>
<span id="cb9-29"><a aria-hidden="true" href="#cb9-29" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb9-30"><a aria-hidden="true" href="#cb9-30" tabindex="-1"></a>        <span class=
"dt">line_items</span><span class="op">:</span> [</span>
<span id="cb9-31"><a aria-hidden="true" href="#cb9-31" tabindex="-1"></a>          {</span>
<span id="cb9-32"><a aria-hidden="true" href="#cb9-32" tabindex="-1"></a>            <span class=
"dt">product_id</span><span class="op">:</span> p1<span class="op">.</span><span class="fu">toInt</span>()<span class=
"op">,</span></span>
<span id="cb9-33"><a aria-hidden="true" href="#cb9-33" tabindex="-1"></a>            <span class=
"dt">price</span><span class="op">:</span> <span class="st">"100.00"</span><span class="op">,</span></span>
<span id="cb9-34"><a aria-hidden="true" href="#cb9-34" tabindex="-1"></a>            <span class=
"dt">quantity</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-35"><a aria-hidden="true" href="#cb9-35" tabindex="-1"></a>          }<span class="op">,</span></span>
<span id="cb9-36"><a aria-hidden="true" href="#cb9-36" tabindex="-1"></a>          {</span>
<span id="cb9-37"><a aria-hidden="true" href="#cb9-37" tabindex="-1"></a>            <span class=
"dt">product_id</span><span class="op">:</span> p2<span class="op">.</span><span class="fu">toInt</span>()<span class=
"op">,</span></span>
<span id="cb9-38"><a aria-hidden="true" href="#cb9-38" tabindex="-1"></a>            <span class=
"dt">price</span><span class="op">:</span> <span class="st">"15.00"</span><span class="op">,</span></span>
<span id="cb9-39"><a aria-hidden="true" href="#cb9-39" tabindex="-1"></a>            <span class=
"dt">quantity</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-40"><a aria-hidden="true" href="#cb9-40" tabindex="-1"></a>          }<span class="op">,</span></span>
<span id="cb9-41"><a aria-hidden="true" href="#cb9-41" tabindex="-1"></a>        ]<span class="op">,</span></span>
<span id="cb9-42"><a aria-hidden="true" href="#cb9-42" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb9-43"><a aria-hidden="true" href="#cb9-43" tabindex="-1"></a>      <span class="dt">shop</span><span class=
"op">:</span> <span class="st">"example.myshopify.com"</span><span class="op">,</span></span>
<span id="cb9-44"><a aria-hidden="true" href="#cb9-44" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb9-45"><a aria-hidden="true" href="#cb9-45" tabindex="-1"></a></span>
<span id="cb9-46"><a aria-hidden="true" href="#cb9-46" tabindex="-1"></a>    <span class=
"co">// Shopify GraphQL mock client</span></span>
<span id="cb9-47"><a aria-hidden="true" href="#cb9-47" tabindex="-1"></a>    <span class=
"kw">const</span> client <span class="op">=</span> <span class="fu">ShopifyClient</span>(</span>
<span id="cb9-48"><a aria-hidden="true" href="#cb9-48" tabindex="-1"></a>      <span class=
"fu">ShopifyFixture</span>(<span class="st">"product-no-tag"</span><span class="op">,</span> <span class=
"st">"product/no-override-tag"</span>)<span class="op">,</span></span>
<span id="cb9-49"><a aria-hidden="true" href="#cb9-49" tabindex="-1"></a>      <span class=
"fu">ShopifyFixture</span>(<span class="st">"product-with-tag"</span><span class="op">,</span> <span class=
"st">"product/with-override-tag"</span>)<span class="op">,</span></span>
<span id="cb9-50"><a aria-hidden="true" href="#cb9-50" tabindex="-1"></a>      <span class=
"fu">ShopifyFixture</span>(<span class="st">"add-tag"</span><span class="op">,</span> <span class=
"st">"tags-add-customer"</span>)<span class="op">,</span></span>
<span id="cb9-51"><a aria-hidden="true" href="#cb9-51" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb9-52"><a aria-hidden="true" href="#cb9-52" tabindex="-1"></a></span>
<span id="cb9-53"><a aria-hidden="true" href="#cb9-53" tabindex="-1"></a>    <span class=
"co">// Run the processor</span></span>
<span id="cb9-54"><a aria-hidden="true" href="#cb9-54" tabindex="-1"></a>    <span class=
"kw">const</span> [retOrderId<span class="op">,</span> retOustomerId<span class="op">,</span> retSum]<span class=
"op">:</span> JobReturn <span class="op">=</span> <span class="cf">await</span> <span class=
"fu">processor</span>({</span>
<span id="cb9-55"><a aria-hidden="true" href="#cb9-55" tabindex="-1"></a>      db<span class="op">,</span></span>
<span id="cb9-56"><a aria-hidden="true" href="#cb9-56" tabindex="-1"></a>      client<span class="op">,</span></span>
<span id="cb9-57"><a aria-hidden="true" href="#cb9-57" tabindex="-1"></a>      <span class="dt">job</span><span class=
"op">:</span> { <span class="dt">data</span><span class="op">:</span> jobData }<span class="op">,</span></span>
<span id="cb9-58"><a aria-hidden="true" href="#cb9-58" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb9-59"><a aria-hidden="true" href="#cb9-59" tabindex="-1"></a>    <span class=
"fu">expect</span>(retOrderId<span class="op">.</span><span class="fu">isSame</span>(orderId))<span class=
"op">.</span><span class="fu">toBe</span>(<span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb9-60"><a aria-hidden="true" href="#cb9-60" tabindex="-1"></a>    <span class=
"fu">expect</span>(retCustomerId<span class="op">.</span><span class="fu">isSame</span>(customerId))<span class=
"op">.</span><span class="fu">toBe</span>(<span class="kw">true</span>)<span class="op">;</span></span>
<span id="cb9-61"><a aria-hidden="true" href="#cb9-61" tabindex="-1"></a>    <span class=
"fu">expect</span>(retSum<span class="op">.</span><span class="fu">isSame</span>(<span class=
"fu">Cents</span>(<span class="dv">3000</span>)))<span class="op">;</span></span>
<span id="cb9-62"><a aria-hidden="true" href="#cb9-62" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb9-63"><a aria-hidden="true" href="#cb9-63" tabindex="-1"></a>})<span class=
"op">;</span></span></code></pre>
              </div>

              <p>
                Now, running <code>npm run test</code> will give us a testing result!
              </p>

              <div class="sourceCode" id="cb10">
                <pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a aria-hidden="true" href=
                "#cb10-1" tabindex="-1"></a><span class="ex">npm</span> run test</span>
<span id="cb10-2"><a aria-hidden="true" href="#cb10-2" tabindex="-1"></a></span>
<span id="cb10-3"><a aria-hidden="true" href="#cb10-3" tabindex="-1"></a><span class=
"op">&gt;</span> test:coverage</span>
<span id="cb10-4"><a aria-hidden="true" href="#cb10-4" tabindex="-1"></a><span class="op">&gt;</span> jest</span>
<span id="cb10-5"><a aria-hidden="true" href="#cb10-5" tabindex="-1"></a></span>
<span id="cb10-6"><a aria-hidden="true" href="#cb10-6" tabindex="-1"></a> <span class=
"ex">PASS</span>  app/order/processor.test.ts <span class="er">(</span><span class="ex">10.12</span> s<span class=
"kw">)</span></span>
<span id="cb10-7"><a aria-hidden="true" href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a aria-hidden="true" href="#cb10-8" tabindex="-1"></a><span class=
"ex">Test</span> Suites: 1 passed, 1 total</span>
<span id="cb10-9"><a aria-hidden="true" href="#cb10-9" tabindex="-1"></a><span class=
"ex">Tests:</span>       3 passed, 3 total</span>
<span id="cb10-10"><a aria-hidden="true" href="#cb10-10" tabindex="-1"></a><span class=
"ex">Snapshots:</span>   0 total</span>
<span id="cb10-11"><a aria-hidden="true" href="#cb10-11" tabindex="-1"></a><span class=
"ex">Time:</span>        10.44 s</span></code></pre>
              </div>

              <p>
                Success! I hope this helps you run integrations tests with Prisma and Jest.
              </p>

              <h2 id="tests-running-slow">
                Tests running slow?
              </h2>

              <p>
                There are several results on the web of people having issues of Jest running slow for Typescript. There
                are several solutions offered. Example:
              </p>

              <ol type="1">
                <li>
                  <strong><code>maxWorkers</code> flag</strong>: Add <code>--maxWorkers=[num]</code>, example:
                  <code>npm run test -- --maxWorkers=3</code>
                </li>

                <li>
                  <strong><code>runInBand</code> flag</strong>: Add <code>--runInBand</code> which runs test in sync,
                  example: <code>npm run test -- --runInBand</code>
                </li>

                <li>
                  <strong>Remove ts-node</strong>: <code>ts-node</code> is slow, you can try swapping to
                  <code>swc</code> with it’s Jest support
                </li>
              </ol>

              <p>
                My app is fairly chunky, and in my testing of speeds the results are as followed:
              </p>

              <ul>
                <li>
                  <strong>Running as-is</strong>: 47 seconds
                </li>

                <li>
                  <strong>Running with maxWorkers=4</strong>: 38 seconds
                </li>

                <li>
                  <strong>Running with runInBand</strong>: 73 seconds
                </li>
              </ul>
            </div>
          </div>
        </div>
      </article>

      <section class="tab tab--appendix">
        <div class="tab__title tab__title--short">
          Appendix
        </div>

        <div class="tab__container">
          <div class="tab__content">
            <div class="content-container">
              <p>
                Copyright under <a class="sources__link" href="https://creativecommons.org/licenses/by/4.0/" rel=
                "noopener" target="_blank">CC-4.0</a>.
              </p>

              <p>
                Available in the following alternative formats: <span class="sources"><a class="sources__link" href=
                "/shopify-remix-prisma-and-jest/index.md">MD</a>&nbsp;&nbsp;/&nbsp;&nbsp;<a class="sources__link" href=
                "/shopify-remix-prisma-and-jest/index.txt">TXT</a>&nbsp;&nbsp;/&nbsp;&nbsp;<a href="" onclick=
                "window.print(); return false;">PDF</a></span>
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-tail container">
      <div class="site-tail__avatar">
        <a href="/about"><img alt="Ty King" class="site-tail__avatar-img" src="/assets/images/me.jpg"></a>
      </div>

      <div class="site-tail__about">
        <h3 class="site-tail__author">
          <a href="/about">Ty King</a>
        </h3>

        <p class="site-tail__blurb">
          A self-taught, seasoned, and versatile developer from Newfoundland. <span>Crafting innovative solutions with
          care and expertise.</span>
        </p>
      </div>

      <div class="site-tail__blurb-ext">
        <p class="site-tail__blurb">
          Crafting innovative solutions with care and expertise.
        </p>
      </div>

      <div class="site-tail__links">
        <a class="button button--strong" href="https://github.com/gnikyt" rel="noopener" target=
        "_blank">Github</a><a class="button button--strong" href="https://linkedin.com/in/gnikyt" rel="noopener"
        target="_blank">LinkedIn</a><a class="button button--strong" href="/assets/files/cv.pdf" target=
        "_blank">CV</a><a class="button button--strong" href="/rss.xml" target="_blank">RSS</a>
      </div>
    </footer>

    <ul class="site-colors container container--short">
      <li class="site-colors__color color--a">
      </li>

      <li class="site-colors__color color--b">
      </li>

      <li class="site-colors__color color--c">
      </li>

      <li class="site-colors__color color--d">
      </li>

      <li class="site-colors__color color--e">
      </li>

      <li class="site-colors__color color--f">
      </li>

      <li class="site-colors__color color--g">
      </li>

      <li class="site-colors__color color--h">
      </li>
    </ul>
  </body>
</html>
