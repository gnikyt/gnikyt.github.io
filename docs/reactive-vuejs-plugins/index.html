<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>
      Reactive VueJS plugins | gnikyt
    </title>
    <link href="https://gnikyt.com/reactive-vuejs-plugins" rel="canonical">
    <meta content="Custom" name="generator">
    <meta content=
    "VueJS has been my go-to framework from building small to medium-sized frontend applications and add-ins. Its simply great - easy to deve..."
    name="description">
    <meta content="2017-06-29T12:36:22-0230" property="article:published_time">
    <meta content="Reactive VueJS plugins" property="og:title">
    <meta content="en" property="og:locale">
    <meta content=
    "VueJS has been my go-to framework from building small to medium-sized frontend applications and add-ins. Its simply great - easy to deve..."
    property="og:description">
    <meta content="https://gnikyt.com/reactive-vuejs-plugins" property="og:url">
    <meta content="gnikyt" property="og:site_name">
    <meta content="article" property="og:type">
    <meta content="summary" name="twitter:card">
    <meta content=
    "VueJS has been my go-to framework from building small to medium-sized frontend applications and add-ins. Its simply great - easy to deve..."
    property="twitter:title">
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "dateModified": "2017-06-29T12:36:22-0230",
    "datePublished": "2017-06-29T12:36:22-0230",
    "description": "
    VueJS has been my go-to framework from building small to medium-sized frontend applications and add-ins. Its simply great - easy to deve...",
    "headline": "Reactive VueJS plugins",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://gnikyt.com/reactive-vuejs-plugins"
    },
    "publisher": {
      "@type": "Organization",
      "logo": {
        "@type": "ImageObject",
        "url": "https://gnikyt.com/assets/favicon-32x32.png"
      }
    },
    "url": "https://gnikyt.com/reactive-vuejs-plugins"
    }
    </script>
    <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/assets/images/favicon.png" rel="icon" sizes="32x32" type="image/png">
    <link href="/rss.xml" rel="alternate" title="gnikyt feed" type="application/rss+xml">
    <link href="/assets/styles/normalize.css" rel="stylesheet">
    <link href="/assets/styles/concrete.css" rel="stylesheet">
    <link href="/assets/styles/style.css" rel="stylesheet">
  </head>
  <body class="layout layout--post" data-handle="reactive-vuejs-plugins">
    <header class="site-head container">
      <span class="site-head__item"><a class="site-head__link" href="/">gnikyt</a></span> <span class=
      "site-head__item">Code ramblings.</span>
    </header>

    <main class="container">
      <article class="post">
        <header class="post__head">
          <h1 class="post__title">
            Reactive VueJS plugins
          </h1>

          <p class="post__meta">
            /* <time class="post__time" datetime="2017-06-29">Jun 29, 2017</time> — <span class=
            "post__size">4.0KB</span> */
          </p>
        </header>

        <p>
          VueJS has been my go-to framework from building small to medium-sized frontend applications and add-ins. Its
          simply great - easy to develop with and able to plug into existing systems as a simple view layer.
        </p>

        <h2 id="plugins-reactivity">
          Plugins & Reactivity
        </h2>

        <p>
          <a href="https://vuejs.org/v2/guide/plugins.html">Plugins in Vue</a>, allow you to extract code into a
          reusable module. The plugins allow you to create global mixins, methods, properties, and more. It has the
          added benefit of keeping your code modularized, clean, and doesn’t pollute your app’s main instance.
        </p>

        <p>
          <a href="https://vuejs.org/v2/guide/reactivity.html">Reactivity in Vue</a> is simply a way of describing
          something that watches for changes in state/data and reacts to it. Vue watches for changes in data, which in
          turn causes the component to re-render, showing the updated state.
        </p>

        <h2 id="use-case">
          Use Case
        </h2>

        <p>
          As mentioned, creating plugins can keep your code modularized and your main app instance clean. There could
          be many reasons you’d need a plugin to track data (be reactive).
        </p>

        <p>
          One example is if you’re depending on a third-party service for data. You need to request this data, process
          it, save it, and display it. This takes time. By the time the request is completed your Vue instance may be
          rendered and your data will not display.
        </p>

        <h2 id="building">
          Building
        </h2>

        <p>
          Let’s build a sports ticker to show the latest score result from some sports teams.
        </p>

        <p>
          The key to making your data reactive in your plugin is simple… create a new Vue instance that holds the data.
        </p>

        <div class="sourceCode" id="cb1">
          <pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a aria-hidden="true"
          href="#cb1-1" tabindex="-1"></a><span class="co">// plugins/sports-ticker.js</span></span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb1-4"><a aria-hidden="true" href="#cb1-4" tabindex="-1"></a><span class=
"co"> * Simple sports ticker class</span></span>
<span id="cb1-5"><a aria-hidden="true" href="#cb1-5" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb1-6"><a aria-hidden="true" href="#cb1-6" tabindex="-1"></a><span class=
"kw">class</span> SportsTicker {</span>
<span id="cb1-7"><a aria-hidden="true" href="#cb1-7" tabindex="-1"></a>  <span class="co">/**</span></span>
<span id="cb1-8"><a aria-hidden="true" href="#cb1-8" tabindex="-1"></a><span class="co">   * </span><span class=
"an">@constructor</span></span>
<span id="cb1-9"><a aria-hidden="true" href="#cb1-9" tabindex="-1"></a><span class="co">   */</span></span>
<span id="cb1-10"><a aria-hidden="true" href="#cb1-10" tabindex="-1"></a>  <span class=
"fu">constructor</span>(Vue<span class="op">,</span> team) {</span>
<span id="cb1-11"><a aria-hidden="true" href="#cb1-11" tabindex="-1"></a>    <span class="kw">this</span><span class=
"op">.</span><span class="at">team</span> <span class="op">=</span> team<span class="op">;</span></span>
<span id="cb1-12"><a aria-hidden="true" href="#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a aria-hidden="true" href="#cb1-13" tabindex="-1"></a>    <span class=
"co">// Lets make a new instance to store the data</span></span>
<span id="cb1-14"><a aria-hidden="true" href="#cb1-14" tabindex="-1"></a>    <span class="kw">this</span><span class=
"op">.</span><span class="at">storeVM</span> <span class="op">=</span> <span class="kw">new</span> <span class=
"fu">Vue</span>({</span>
<span id="cb1-15"><a aria-hidden="true" href="#cb1-15" tabindex="-1"></a>      <span class="fu">data</span>() {</span>
<span id="cb1-16"><a aria-hidden="true" href="#cb1-16" tabindex="-1"></a>        <span class=
"cf">return</span> {</span>
<span id="cb1-17"><a aria-hidden="true" href="#cb1-17" tabindex="-1"></a>          team<span class="op">,</span></span>
<span id="cb1-18"><a aria-hidden="true" href="#cb1-18" tabindex="-1"></a>          <span class=
"dt">gameTime</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb1-19"><a aria-hidden="true" href="#cb1-19" tabindex="-1"></a>          <span class=
"dt">score</span><span class="op">:</span> {</span>
<span id="cb1-20"><a aria-hidden="true" href="#cb1-20" tabindex="-1"></a>            <span class=
"dt">home</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb1-21"><a aria-hidden="true" href="#cb1-21" tabindex="-1"></a>            <span class=
"dt">away</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb1-22"><a aria-hidden="true" href="#cb1-22" tabindex="-1"></a>          }<span class="op">,</span></span>
<span id="cb1-23"><a aria-hidden="true" href="#cb1-23" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb1-24"><a aria-hidden="true" href="#cb1-24" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb1-25"><a aria-hidden="true" href="#cb1-25" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb1-26"><a aria-hidden="true" href="#cb1-26" tabindex="-1"></a>    </span>
<span id="cb1-27"><a aria-hidden="true" href="#cb1-27" tabindex="-1"></a>    <span class=
"co">// Fetch the scores</span></span>
<span id="cb1-28"><a aria-hidden="true" href="#cb1-28" tabindex="-1"></a>    <span class="kw">this</span><span class=
"op">.</span><span class="fu">fetchData</span>()<span class="op">;</span></span>
<span id="cb1-29"><a aria-hidden="true" href="#cb1-29" tabindex="-1"></a>  }</span>
<span id="cb1-30"><a aria-hidden="true" href="#cb1-30" tabindex="-1"></a></span>
<span id="cb1-31"><a aria-hidden="true" href="#cb1-31" tabindex="-1"></a>  <span class="co">/**</span></span>
<span id="cb1-32"><a aria-hidden="true" href="#cb1-32" tabindex="-1"></a><span class=
"co">   * Gets the state of the data</span></span>
<span id="cb1-33"><a aria-hidden="true" href="#cb1-33" tabindex="-1"></a><span class="co">   * </span><span class=
"an">@return</span><span class="co"> {Object}</span></span>
<span id="cb1-34"><a aria-hidden="true" href="#cb1-34" tabindex="-1"></a><span class="co">   */</span></span>
<span id="cb1-35"><a aria-hidden="true" href="#cb1-35" tabindex="-1"></a>  <span class="kw">get</span> <span class=
"fu">state</span>() {</span>
<span id="cb1-36"><a aria-hidden="true" href="#cb1-36" tabindex="-1"></a>    <span class=
"cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">storeVM</span><span class=
"op">.</span><span class="at">$data</span><span class="op">;</span></span>
<span id="cb1-37"><a aria-hidden="true" href="#cb1-37" tabindex="-1"></a>  }</span>
<span id="cb1-38"><a aria-hidden="true" href="#cb1-38" tabindex="-1"></a>  </span>
<span id="cb1-39"><a aria-hidden="true" href="#cb1-39" tabindex="-1"></a>  <span class="co">/**</span></span>
<span id="cb1-40"><a aria-hidden="true" href="#cb1-40" tabindex="-1"></a><span class=
"co">   * Simple fetch to grab the data</span></span>
<span id="cb1-41"><a aria-hidden="true" href="#cb1-41" tabindex="-1"></a><span class="co">   */</span></span>
<span id="cb1-42"><a aria-hidden="true" href="#cb1-42" tabindex="-1"></a>  <span class="fu">fetchData</span>() {</span>
<span id="cb1-43"><a aria-hidden="true" href="#cb1-43" tabindex="-1"></a>    <span class="fu">fetch</span>(<span class=
"vs">`https://some-api.com/games/</span><span class="sc">${</span><span class="kw">this</span><span class=
"op">.</span><span class="at">team</span><span class="sc">}</span><span class="vs">/last`</span>)</span>
<span id="cb1-44"><a aria-hidden="true" href="#cb1-44" tabindex="-1"></a>      <span class="op">.</span><span class=
"fu">then</span>(resp <span class="kw">=&gt;</span> resp<span class="op">.</span><span class="fu">json</span>())</span>
<span id="cb1-45"><a aria-hidden="true" href="#cb1-45" tabindex="-1"></a>      <span class="op">.</span><span class=
"fu">then</span>((data) <span class="kw">=&gt;</span> {</span>
<span id="cb1-46"><a aria-hidden="true" href="#cb1-46" tabindex="-1"></a>        <span class=
"kw">this</span><span class="op">.</span><span class="at">state</span><span class="op">.</span><span class=
"at">gameTime</span> <span class="op">=</span> data<span class="op">.</span><span class=
"at">game_time</span><span class="op">;</span></span>
<span id="cb1-47"><a aria-hidden="true" href="#cb1-47" tabindex="-1"></a>        <span class=
"kw">this</span><span class="op">.</span><span class="at">state</span><span class="op">.</span><span class=
"at">score</span> <span class="op">=</span> {</span>
<span id="cb1-48"><a aria-hidden="true" href="#cb1-48" tabindex="-1"></a>          <span class=
"dt">home</span><span class="op">:</span> data<span class="op">.</span><span class="at">home_score</span><span class=
"op">,</span></span>
<span id="cb1-49"><a aria-hidden="true" href="#cb1-49" tabindex="-1"></a>          <span class=
"dt">away</span><span class="op">:</span> data<span class="op">.</span><span class="at">away_score</span></span>
<span id="cb1-50"><a aria-hidden="true" href="#cb1-50" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb1-51"><a aria-hidden="true" href="#cb1-51" tabindex="-1"></a>      })</span>
<span id="cb1-52"><a aria-hidden="true" href="#cb1-52" tabindex="-1"></a>    <span class="op">;</span></span>
<span id="cb1-53"><a aria-hidden="true" href="#cb1-53" tabindex="-1"></a>  }</span>
<span id="cb1-54"><a aria-hidden="true" href="#cb1-54" tabindex="-1"></a>}</span>
<span id="cb1-55"><a aria-hidden="true" href="#cb1-55" tabindex="-1"></a></span>
<span id="cb1-56"><a aria-hidden="true" href="#cb1-56" tabindex="-1"></a><span class="im">export</span> <span class=
"im">default</span> {</span>
<span id="cb1-57"><a aria-hidden="true" href="#cb1-57" tabindex="-1"></a>  <span class="co">/**</span></span>
<span id="cb1-58"><a aria-hidden="true" href="#cb1-58" tabindex="-1"></a><span class=
"co">   * Install sports ticker plugin</span></span>
<span id="cb1-59"><a aria-hidden="true" href="#cb1-59" tabindex="-1"></a><span class="co">   * </span><span class=
"an">@param</span><span class="co"> </span><span class="cv">{Vue}</span><span class=
"co"> Vue - Vue instance</span></span>
<span id="cb1-60"><a aria-hidden="true" href="#cb1-60" tabindex="-1"></a><span class="co">   * </span><span class=
"an">@param</span><span class="co"> </span><span class="cv">{Object}</span><span class=
"co"> options - Options for the plugin</span></span>
<span id="cb1-61"><a aria-hidden="true" href="#cb1-61" tabindex="-1"></a><span class="co">   */</span></span>
<span id="cb1-62"><a aria-hidden="true" href="#cb1-62" tabindex="-1"></a>  <span class="dt">install</span><span class=
"op">:</span> (Vue<span class="op">,</span> options <span class="op">=</span> {}) <span class=
"kw">=&gt;</span> {</span>
<span id="cb1-63"><a aria-hidden="true" href="#cb1-63" tabindex="-1"></a>    Vue<span class="op">.</span><span class=
"at">prototype</span><span class="op">.</span><span class="at">$SportsTicker</span> <span class=
"op">=</span> <span class="kw">new</span> <span class="fu">SportsTicker</span>(</span>
<span id="cb1-64"><a aria-hidden="true" href="#cb1-64" tabindex="-1"></a>      Vue<span class="op">,</span></span>
<span id="cb1-65"><a aria-hidden="true" href="#cb1-65" tabindex="-1"></a>      options<span class=
"op">.</span><span class="at">team</span></span>
<span id="cb1-66"><a aria-hidden="true" href="#cb1-66" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb1-67"><a aria-hidden="true" href="#cb1-67" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-68"><a aria-hidden="true" href="#cb1-68" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb1-69"><a aria-hidden="true" href="#cb1-69" tabindex="-1"></a></span>
<span id="cb1-70"><a aria-hidden="true" href="#cb1-70" tabindex="-1"></a><span class=
"co">// Usage: import SportsTicker from 'plugins/sports-ticket'; Vue.use(SportsTicker);</span></span></code></pre>
        </div>

        <p>
          That’s all that’s to it.
        </p>

        <p>
          What we’ve done is created a class to keep our logic separate from the Vue plugin installation code. Then, we
          register the plugin with the options (in this case, just the team name). In the SportsTicker class, we create
          a new Vue instance with its own data store filled with dummy/default data. We create a <code>get state</code>
          method so we can quickly access the data of the Vue instance we created. Next, we fetch the data, process it,
          and write it back to our Vue instance.
        </p>

        <p>
          With all this in play, our data is now reactive.
        </p>

        <div class="sourceCode" id="cb2">
          <pre class="sourceCode html"><code class="sourceCode html"><span id="cb2-1"><a aria-hidden="true" href=
          "#cb2-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span> <span class=
          "er">v-if</span><span class="ot">=</span><span class="st">"$SportsTicker.state.gameTime"</span><span class=
          "dt">&gt;</span></span>
<span id="cb2-2"><a aria-hidden="true" href="#cb2-2" tabindex="-1"></a>  {% raw %}</span>
<span id="cb2-3"><a aria-hidden="true" href="#cb2-3" tabindex=
"-1"></a>  {{ $SportsTicker.state.team }}'s last game results: {{ $SportsTicker.state.score.home }} - {{ $SportsTicker.state.score.away }}</span>
<span id="cb2-4"><a aria-hidden="true" href="#cb2-4" tabindex="-1"></a>  {% endraw %}</span>
<span id="cb2-5"><a aria-hidden="true" href="#cb2-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class=
"kw">template</span><span class="dt">&gt;</span></span></code></pre>
        </div>

        <p>
          Because the data is reactive, the above view snippet will not show until we have data (checking
          <code>gameTime</code> is not null in this case). When the data is processed, it will trigger Vue to render
          the template and show the data.
        </p>

        <p>
          All we needed to do was create our own Vue instance for the plugin to store the data, with a simple method to
          access it (<code>get state</code>).
        </p>

        <footer class="post__tail">
          <div class="sources">
            <a class="sources__link" href="/reactive-vuejs-plugins/index.md">MD</a> | <a class="sources__link" href=
            "/reactive-vuejs-plugins/index.txt">TXT</a> | <a class="sources__link" href=
            "https://creativecommons.org/licenses/by/4.0/" rel="noopener" target="_blank">CC-4.0</a>
          </div>

          <div class="warning warning--post">
            This post is 7 years old and may contain outdated information.
          </div>
        </footer>
      </article>
    </main>

    <footer class="site-tail container">
      <hr class="site-tail__sep">
      <a href="/about"><img alt="Ty King" class="site-tail__avatar" src="/assets/images/me.jpg"></a>
      <div class="site-tail__inner">
        <h3 class="site-tail__author">
          Ty King
        </h3>

        <p class="site-tail__blurb">
          A self-taught, seasoned, and versatile developer from Newfoundland. Crafting innovative solutions with care
          and expertise. See more <a href="/about">about me</a>.
        </p>
        <a class="button" href="https://github.com/gnikyt" rel="noopener" target="_blank">Github</a> <a class="button"
        href="https://linkedin.com/in/gnikyt" rel="noopener" target="_blank">LinkedIn</a> <a class="button" href=
        "/assets/files/cv.pdf" target="_blank">CV</a> <a class="button" href="/rss.xml" target="_blank">RSS</a>
        <ul class="site-colors" data-scheme="cobalt">
          <li class="site-colors__color color--a">
          </li>

          <li class="site-colors__color color--b">
          </li>

          <li class="site-colors__color color--c">
          </li>

          <li class="site-colors__color color--d">
          </li>

          <li class="site-colors__color color--e">
          </li>

          <li class="site-colors__color color--f">
          </li>

          <li class="site-colors__color color--g">
          </li>

          <li class="site-colors__color color--h">
          </li>

          <li class="site-colors__color color--i">
          </li>

          <li class="site-colors__color color--j">
          </li>
        </ul>
      </div>
    </footer>
  </body>
</html>
